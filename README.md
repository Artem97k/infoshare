<h3><b>Проект, направленный на более глубокое изучение фреймфорка RoR и языка JS</b></h3>


<h4><b>Архитектура:</b></h4>

Пользовательский интерфейс представляет собой <b>SPA</b>, написанное на языке <b>JS</b> с использованием библиотеки <b>jQuery</b>.
Серверная часть состоит из нескольких приложений (микросервисов), общающихся с пользователем и между собой при помощи протокола <b>HTTP</b>, и, принимающих и генерирующих данные в формате <b>JSON</b>. Для идентифицаии пользователей используется <b>JWT-токен</b>. При проектировании архитектуры приложения за основу я взял следующую схему:

<img src="https://cdn-images-1.medium.com/max/800/0*J_xfcITh-HsgX9aX.png">

Источник: https://medium.com/@WSO2/guidelines-for-designing-microservices-71ee1997776c

Серверное приложение архитектурно построено по вышеприведенной схеме с одним существенным отличием: пользователь при авторизации получает JWT-токен (а не Access Token), который затем должен передавать вместе с запросом для совершения действий, требующих авторизации.


<h4><b>Описание:</b></h4>

<b>Back-end:</b>

Серверное приложение состоит из пяти микросервисов:

1) Gateway принимает все входящие от пользователя запросы и передает их другим микросервисам, а также хранит и отдает пользователю приложение графического интерфейса.
2) Auth отвечает за авторизацию и генерирует JWT-токены.
3) Profile отвечает за хранение и обработку профилей
4) Article отвечает за хранение и обработку статей
5) Series отвечает за хранение и обработку серий

Все запросы от пользователя принимает gateway-микросервис, который предоставляет <b>RESTful API</b> для взаимодействия.

Пользователь может без авторизации искать и просматривать статьи, серии и профили всех пользователей, а после регистрации и авторизации может создавать профиль, статьи и серии (серии объединяют статьи в группы).

<b>Безопасность:</b>
При регистрации микросервис auth не сохраняет пароли пользователей в неизменном виде, а генерирует хэш.

Для авторизации используется JWT (JSON Web Token), который JS-приложение при авторизации сохраняет в cookies и при необходимости передает вместе с запросом. Gateway-микросервис ответственен за обработку запросов (например, при запросе на удаление серии статей, соответствующий метод шлет запрос не только микросервису статей на удаление самой серии, но и микросервису статей на удаление всех входящих в серию статей). Gateway-микросервис не декодирует JWT-токен, каждый микросервис самостоятельно декодирует токен и проверяет имеет ли пользователь право на совершение запрошенного действия.

Auth сервис генерирует хэши паролей с помощью гема <b>'bcrypt'</b>.<br>
HTTP-запросы сервисам генерируются при помощи гема <b>'rest-client'</b>.<br>
JWT-токен генерируется и декодируется при помощи гема <b>'ruby-jwt'<b/>.


<b>Front-end:</b>

Пользовательский интерфейс разработан c использованием следующих технологий: <b>HTML, CSS, JS + jQuery </b>. Приложение передается пользователю при обращении к корневому каталогу микросервиса gateway. Все файлы (основной HTML-документ, СSS-файлы стилей и JS-скрипты), содержащие код, ответственный за работу интерфейса, находятся в папке <b>public</b> микросервиса gateway.

